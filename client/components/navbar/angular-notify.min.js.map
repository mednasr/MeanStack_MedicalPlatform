{"version":3,"sources":["angular-notify.js"],"names":["AngularNotifyModule","angular","module","config","$provide","decorator","$delegate","Object","defineProperty","constructor","prototype","value","name","listener","unsubscribe","$on","this","enumerable","directive","restrict","link","scope","elem","attrs","createNotify","notifyData","notifyContainer","document","createElement","title","className","innerHTML","appendChild","content","length","closeBtn","addEventListener","notify","hideFunc","type","domElem","removeDom","$","remove","removeClass","addClass","setTimeout","$onRootScope","e","inArray","timeout","timeoutID","mouseenter","window","clearTimeout","mouseleave"],"mappings":"AAAA,GAAAA,qBAAAC,QAAAC,OAAA,iBAAA,MAEAF,qBAAAG,QAAA,WAAA,SAAAC,GACAA,EAAAC,UAAA,cAAA,YAAA,SAAAC,GAWA,MAVAC,QAAAC,eAAAF,EAAAG,YAAAC,UAAA,gBACAC,MAAA,SAAAC,EAAAC,GACA,GAAAC,GAAAR,EAAAS,IAAAH,EAAAC,EAGA,OAFAG,MAAAD,IAAA,WAAAD,GAEAA,GAEAG,YAAA,IAGAX,QAIAN,oBAAAkB,UAAA,aACA,WACA,OACAC,SAAA,MACAC,KAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAA,SAAAC,GACAC,gBAAAC,SAAAC,cAAA,MACA,IAAAC,GAAAF,SAAAC,cAAA,IAIA,IAHAC,EAAAC,WAAA,SACAD,EAAAE,UAAAN,EAAAI,MACAH,gBAAAM,YAAAH,GACA,gBAAAJ,GAAAQ,SAAA,IAAAR,EAAAQ,QAAAC,OAAA,CACA,GAAAD,GAAAN,SAAAC,cAAA,IACAK,GAAAH,WAAA,WACAG,EAAAF,UAAAN,EAAAQ,QACAP,gBAAAM,YAAAC,GAEA,GAAAE,GAAAR,SAAAC,cAAA,SAQA,QAPAO,EAAAL,WAAA,SACAK,EAAAJ,UAAA,sCACAI,EAAAC,iBAAA,QAAA,WACAC,EAAAC,aAEAZ,gBAAAM,YAAAG,GACAT,gBAAAI,WAAA,iBACAL,EAAAc,MACA,IAAA,UACAb,gBAAAI,WAAA,yBACA,MACA,KAAA,OACAJ,gBAAAI,WAAA,sBACA,MACA,KAAA,UACAJ,gBAAAI,WAAA,yBACA,MACA,KAAA,QACAJ,gBAAAI,WAAA,wBAGAJ,gBAAAI,WAAA,uBAEA,IAAAO,IACAG,QAAAd,gBACAe,UAAA,WACAC,EAAA1B,KAAAwB,SAAAG,UAEAL,SAAA,WACAI,EAAA1B,KAAAwB,SAAAI,YAAA,wBACAF,EAAA1B,KAAAwB,SAAAK,SAAA,uBACAC,WAAA,WAAAT,EAAAI,aAAA,MAIA,OAAAJ,GAEAhB,GAAA0B,aAAA,SAAA,SAAAC,EAAAvB,GACA,GAAAiB,EAAAO,QAAAxB,EAAAc,MAAA,UAAA,OAAA,UAAA,gBACA,gBAAAd,GAAAI,OAAA,IAAAJ,EAAAI,MAAAK,OAAA,CACA,GAAAG,GAAAb,EAAAC,GACAyB,EAAAzB,EAAAyB,SAAA,IACA5B,GAAA,GAAAU,YAAAK,EAAAG,QAEA,IAAAW,GAAAL,WAAA,WAAAT,EAAAC,YAAAY,EACAR,GAAAL,EAAAG,SAAAY,WAAA,WACAC,OAAAC,aAAAH,KACAI,WAAA,WACAJ,EAAAL,WAAA,WAAAT,EAAAC,YAAAY","file":"angular-notify.min.js","sourcesContent":["var AngularNotifyModule = angular.module('angularNotify', ['ng']);\r\n// 事件监听绑定到rootScope的装饰器\r\nAngularNotifyModule.config(['$provide', function($provide){\r\n\t$provide.decorator('$rootScope', ['$delegate', function($delegate){\r\n\t\tObject.defineProperty($delegate.constructor.prototype, '$onRootScope', {\r\n\t\t\tvalue: function(name, listener){\r\n\t\t\t\tvar unsubscribe = $delegate.$on(name, listener);\r\n\t\t\t\tthis.$on('$destroy', unsubscribe);\r\n\r\n\t\t\t\treturn unsubscribe;\r\n\t\t\t},\r\n\t\t\tenumerable: false\r\n\t\t});\r\n\r\n\t\treturn $delegate;\r\n\t}]);\r\n}]);\r\n\r\nAngularNotifyModule.directive('notifybar', [\r\n\tfunction(){\r\n\t\treturn {\r\n\t\t\trestrict: 'EAC',\r\n\t\t\tlink: function(scope, elem, attrs){\r\n\t\t\t\tvar createNotify = function(notifyData){\r\n\t\t\t\t\tnotifyContainer = document.createElement('div');\r\n\t\t\t\t\tvar title = document.createElement('p');\r\n\t\t\t\t\ttitle.className += ' title';\r\n\t\t\t\t\ttitle.innerHTML = notifyData.title;\r\n\t\t\t\t\tnotifyContainer.appendChild(title);\r\n\t\t\t\t\tif( typeof notifyData.content == 'string' && notifyData.content.length !== 0 ){\r\n\t\t\t\t\t\tvar content = document.createElement('p');\r\n\t\t\t\t\t\tcontent.className += ' content';\r\n\t\t\t\t\t\tcontent.innerHTML = notifyData.content;\r\n\t\t\t\t\t\tnotifyContainer.appendChild(content);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar closeBtn = document.createElement('button');\r\n\t\t\t\t\tcloseBtn.className += ' close';\r\n\t\t\t\t\tcloseBtn.innerHTML = '<i class=\"material-icons\">close</i>';\r\n\t\t\t\t\tcloseBtn.addEventListener('click',function(){\r\n\t\t\t\t\t\tnotify.hideFunc();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnotifyContainer.appendChild(closeBtn);\r\n\t\t\t\t\tnotifyContainer.className += 'angular-notify';\r\n\t\t\t\t\tswitch(notifyData.type){\r\n\t\t\t\t\t\tcase 'success':\r\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-success');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'info':\r\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-info');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'warning':\r\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-warning');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'error':\r\n\t\t\t\t\t\t\tnotifyContainer.className += (' angular-notify' + '-error');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnotifyContainer.className += ' angular-notify-enter';\r\n\r\n\t\t\t\t\tvar notify = {\r\n\t\t\t\t\t\tdomElem: notifyContainer,\r\n\t\t\t\t\t\tremoveDom: function(){\r\n\t\t\t\t\t\t\t$(this.domElem).remove();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\thideFunc : function(){\r\n\t\t\t\t\t\t\t$(this.domElem).removeClass('angular-notify-enter');\r\n\t\t\t\t\t\t\t$(this.domElem).addClass('angular-notify-hide');\r\n\t\t\t\t\t\t\tsetTimeout(function(){notify.removeDom();}, 320);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treturn notify;\r\n\t\t\t\t};\r\n\t\t\t\tscope.$onRootScope('notify',function(e,notifyData){\r\n\t\t\t\t\tif($.inArray(notifyData.type, ['success', 'info', 'warning', 'error']) !== -1){\r\n\t\t\t\t\t\tif( typeof notifyData.title == 'string' && notifyData.title.length !== 0){\r\n\t\t\t\t\t\t\tvar notify = createNotify(notifyData);\r\n\t\t\t\t\t\t\tvar timeout = notifyData.timeout || 3200;\r\n\t\t\t\t\t\t\telem[0].appendChild(notify.domElem);\r\n\r\n\t\t\t\t\t\t\tvar timeoutID = setTimeout(function(){notify.hideFunc();}, timeout);\r\n\t\t\t\t\t\t\t$(notify.domElem).mouseenter(function(){\r\n\t\t\t\t\t\t\t\twindow.clearTimeout(timeoutID);\r\n\t\t\t\t\t\t\t}).mouseleave(function(){\r\n\t\t\t\t\t\t\t\ttimeoutID = setTimeout(function(){notify.hideFunc();}, timeout);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n]);"]}